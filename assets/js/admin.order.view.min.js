var NAILS_Admin_Shop_Order_View;NAILS_Admin_Shop_Order_View=function(){var o=this;return o.__construct=function(){o.alertCollection(),o.confirmLifecycle(),o.todo();var e=$("#lifecycle-history"),i=$(".table-responsive",e),t=$(".panel-heading",e);i.height(e.height()-t.outerHeight()).show()},o.alertCollection=function(){var e,i,t,l,n,a,c,s,r;i=$("#order"),e=i.data("did-set-lifecycle"),e||(t=i.data("lifecycle-id"),l=i.data("delivery-type"),n=i.data("num-collect-items"),a=2,c=4,(t>c||t==a)&&("COLLECTION"===l?(s="Collection Order",r="The customer has marked that they will come to collect this order. Do not ship.",o.dialog(s,r)):"DELIVER"===l&&n>0&&(s="Partial Collection Order",r='This order contains some items which are marked as "collect only". Do not ship these items.',o.dialog(s,r))))},o.confirmLifecycle=function(){$("a.order-lifecycle__step").on("click",function(){var o="Please Confirm",e=$(this).data("label"),i=$(this).attr("href"),t="<p>Please confirm you would like to set this order to the <strong>"+e+"</strong> stage of its lifecycle.</p>";return $(this).data("will-send-email")&&(t+="<p>This action <strong>will</strong> send the customer an email.</p>"),$("<div>").html(t).dialog({title:o,resizable:!1,draggable:!1,modal:!0,dialogClass:"no-close",buttons:{OK:function(){window.location.href=i,$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}}),!1})},o.todo=function(){$(".todo").on("click",function(){return o.dialog("Coming Soon!","This piece of functionality is in the works and will be available soon."),!1})},o.dialog=function(o,e){$("<div>").html(e).dialog({title:o,resizable:!1,draggable:!1,modal:!0,dialogClass:"no-close",buttons:{OK:function(){$(this).dialog("close")}}})},this.__construct()};
//# sourceMappingURL=admin.order.view.min.js.map
